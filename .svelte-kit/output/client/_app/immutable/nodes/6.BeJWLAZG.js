import{f,a as i,c as C,t as D,s as q}from"../chunks/8_rKqoti.js";import{p as Q,s as j,c as U,u as V,g as r,d,e as W,i as X,j as Y,k as L,l,$ as Z,r as o,f as M,t as P,n as A}from"../chunks/vbZyT464.js";import{i as _,a as aa,b as ea}from"../chunks/Dyc3H2TI.js";import{e as ra,i as ta}from"../chunks/BxHs40zU.js";import{h as sa}from"../chunks/B6TXjWgC.js";import{p as ia}from"../chunks/Ct-MbXlx.js";import{D as oa}from"../chunks/CWr8-FOI.js";import{s as la}from"../chunks/BqKEiSpK.js";import{L as ca}from"../chunks/DXiVI5Ws.js";import{S as H}from"../chunks/BWAkzw7-.js";var da=f('<p class="text-gray-400"><!></p>'),na=f('<div class="flex items-center justify-center py-20"><!></div>'),va=f('<div class="grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4"></div>'),ma=f('<div class="text-center py-20"><div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-brand-gray mb-4"><!></div> <h2 class="text-xl font-semibold mb-2">Tidak ada hasil</h2> <p class="text-gray-400">Coba kata kunci lain atau periksa ejaan</p></div>'),fa=f('<div class="text-center py-20"><div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-brand-gray mb-4"><!></div> <h2 class="text-xl font-semibold mb-2">Cari Drama</h2> <p class="text-gray-400">Masukkan kata kunci untuk mencari drama favorit</p></div>'),pa=f('<div class="max-w-7xl mx-auto px-4 sm:px-6 py-8"><div class="mb-8"><h1 class="text-2xl md:text-3xl font-bold mb-2">Hasil Pencarian</h1> <!></div> <!></div>');function Sa(I,N){Q(N,!0);const R=()=>ea(ia,"$page",T),[T,z]=aa();let n=X(()=>R().url.searchParams.get("q")||""),v=j(U([])),g=j(!1),h=j(!1);V(()=>{r(n)?B(r(n)):(d(v,[],!0),d(h,!1))});async function B(a){d(g,!0),d(h,!0);try{d(v,await la(a),!0)}catch(t){console.error("Search failed:",t),d(v,[],!0)}finally{d(g,!1)}}var x=pa();sa("e12qt1",a=>{Y(()=>{Z.title=`Cari: ${(r(n)||"Search")??""} - DRACIN`})});var y=l(x),E=L(l(y),2);{var F=a=>{var t=da(),p=l(t);{var b=e=>{var s=D();P(()=>q(s,`Mencari "${r(n)??""}"...`)),i(e,s)},k=e=>{var s=D();P(()=>q(s,`${r(v).length??""} hasil untuk "${r(n)??""}"`)),i(e,s)};_(p,e=>{r(g)?e(b):e(k,!1)})}o(t),i(a,t)};_(E,a=>{r(n)&&a(F)})}o(y);var G=L(y,2);{var J=a=>{var t=na(),p=l(t);ca(p,{class:"w-8 h-8 text-brand-orange animate-spin"}),o(t),i(a,t)},K=a=>{var t=C(),p=M(t);{var b=e=>{var s=va();ra(s,21,()=>r(v),ta,(w,$)=>{oa(w,{get drama(){return r($)}})}),o(s),i(e,s)},k=e=>{var s=C(),w=M(s);{var $=m=>{var c=ma(),u=l(c),S=l(u);H(S,{class:"w-8 h-8 text-gray-400"}),o(u),A(4),o(c),i(m,c)},O=m=>{var c=fa(),u=l(c),S=l(u);H(S,{class:"w-8 h-8 text-gray-400"}),o(u),A(4),o(c),i(m,c)};_(w,m=>{r(h)?m($):m(O,!1)},!0)}i(e,s)};_(p,e=>{r(v).length>0?e(b):e(k,!1)},!0)}i(a,t)};_(G,a=>{r(g)?a(J):a(K,!1)})}o(x),i(I,x),W(),z()}export{Sa as component};
