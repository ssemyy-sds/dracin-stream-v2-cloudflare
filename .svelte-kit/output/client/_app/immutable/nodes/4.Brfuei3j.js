import{c as fa,a as n,d as Ma,f as v,s as c}from"../chunks/8_rKqoti.js";import{f as J,p as Sa,s as L,c as Ta,u as Aa,d as u,g as a,i as P,e as Wa,j as za,$ as Ka,l as r,r as t,k as l,n as G,t as h}from"../chunks/vbZyT464.js";import{l as Oa,s as Ra,i as b,a as Ua,b as na}from"../chunks/Dyc3H2TI.js";import{I as qa,s as Ba,f as da,a as y,b as va,e as ca,i as ma}from"../chunks/BxHs40zU.js";import{h as Ga,P as Ja}from"../chunks/B6TXjWgC.js";import{p as Qa}from"../chunks/Ct-MbXlx.js";import{a as Va,b as Xa}from"../chunks/BqKEiSpK.js";import{H as Ya,f as pa}from"../chunks/BNiMAG_W.js";import{L as Za}from"../chunks/DXiVI5Ws.js";import{C as ae}from"../chunks/pV-Yc_yU.js";import{S as ee}from"../chunks/zZzBdBHs.js";import"../chunks/DMwq-UN7.js";function te(H,k){const M=Oa(k,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];qa(H,Ra({name:"calendar"},()=>M,{get iconNode(){return S},children:(j,Q)=>{var $=fa(),e=J($);Ba(e,k,"default",{}),n(j,$)},$$slots:{default:!0}}))}var re=v('<div class="flex items-center justify-center min-h-[60vh]"><!></div>'),se=v('<div class="flex flex-col items-center justify-center min-h-[60vh] text-center px-4"><h2 class="text-2xl font-bold mb-2">Error</h2> <p class="text-gray-400 mb-6"> </p> <a href="/" class="px-6 py-3 bg-brand-orange rounded-full font-semibold">Kembali ke Home</a></div>'),oe=v('<span class="flex items-center gap-1"><!> </span>'),le=v('<span class="flex items-center gap-1"><!> </span>'),ie=v('<span class="px-3 py-1 glass rounded-full text-xs"> </span>'),ne=v('<div class="flex flex-wrap items-center justify-center md:justify-start gap-2 mb-6"></div>'),de=v('<a class="flex items-center justify-center p-3 glass rounded-lg hover:bg-brand-orange/20 hover:border-brand-orange/50 transition-all text-sm font-medium"> </a>'),ve=v('<div class="grid grid-cols-4 sm:grid-cols-5 md:grid-cols-8 lg:grid-cols-10 gap-2"></div>'),ce=v('<div class="text-center py-12 text-gray-400"><p>Tidak ada episode tersedia</p></div>'),me=v('<section class="relative min-h-[50vh] -mt-16 pt-16"><div class="absolute inset-0"><img class="w-full h-full object-cover blur-md scale-110 opacity-30"/> <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-brand-black/80 to-transparent"></div></div> <div class="relative max-w-7xl mx-auto px-4 sm:px-6 py-8 md:py-16"><div class="flex flex-col md:flex-row gap-6 md:gap-10"><div class="shrink-0 mx-auto md:mx-0"><img class="w-48 md:w-64 rounded-xl shadow-2xl"/></div> <div class="flex-1 text-center md:text-left"><h1 class="text-3xl md:text-4xl font-bold mb-4"> </h1> <div class="flex flex-wrap items-center justify-center md:justify-start gap-4 mb-6 text-sm text-gray-300"><!> <!> <span class="flex items-center gap-1"><!> </span> <span> </span></div> <!> <p class="text-gray-300 leading-relaxed mb-8 max-w-2xl mx-auto md:mx-0"> </p> <div class="flex flex-wrap items-center justify-center md:justify-start gap-3"><a class="inline-flex items-center gap-2 px-8 py-3 bg-brand-orange hover:bg-orange-600 rounded-full font-semibold transition-colors shadow-lg shadow-brand-orange/30"><!> Tonton Sekarang</a> <button><!> </button></div></div></div></div></section> <section class="max-w-7xl mx-auto px-4 sm:px-6 py-8"><h2 class="text-xl md:text-2xl font-bold mb-6">Daftar Episode</h2> <!></section>',1),pe=v('<div class="min-h-screen"><!></div>');function De(H,k){Sa(k,!0);const M=()=>na(Qa,"$page",j),S=()=>na(pa,"$favorites",j),[j,Q]=Ua();let $=P(()=>M().params.id),e=L(null),D=L(Ta([])),T=L(!0),N=L(null),A=P(()=>a(e)?S().some(i=>i.bookId===a(e).bookId):!1);Aa(()=>{xa()});async function xa(){u(T,!0),u(N,null);try{const[i,d]=await Promise.all([Va(a($)),Xa(a($))]);u(e,i,!0),u(D,d,!0)}catch(i){console.error("Failed to load drama:",i),u(N,"Failed to load drama details")}finally{u(T,!1)}}function ga(){a(e)&&pa.toggle(a(e))}var W=pe();Ga("9y3fua",i=>{za(()=>{var d;Ka.title=`${(((d=a(e))==null?void 0:d.bookName)||"Loading...")??""} - DRACIN`})});var _a=r(W);{var ua=i=>{var d=re(),z=r(d);Za(z,{class:"w-10 h-10 text-brand-orange animate-spin"}),t(d),n(i,d)},ha=i=>{var d=fa(),z=J(d);{var ba=f=>{var x=se(),g=l(r(x),2),w=r(g,!0);t(g),G(2),t(x),h(()=>c(w,a(N)||"Drama not found")),n(f,x)},ya=f=>{var x=me(),g=J(x),w=r(g),V=r(w);G(2),t(w);var X=l(w,2),Y=r(X),K=r(Y),Z=r(K);t(K);var aa=l(K,2),O=r(aa),$a=r(O,!0);t(O);var R=l(O,2),ea=r(R);{var wa=s=>{var o=oe(),m=r(o);ee(m,{class:"w-4 h-4 text-yellow-500 fill-yellow-500"});var _=l(m);t(o),h(p=>c(_,` ${p??""}`),[()=>a(e).rating.toFixed(1)]),n(s,o)};b(ea,s=>{a(e).rating&&s(wa)})}var ta=l(ea,2);{var ka=s=>{var o=le(),m=r(o);te(m,{class:"w-4 h-4"});var _=l(m);t(o),h(()=>c(_,` ${a(e).year??""}`)),n(s,o)};b(ta,s=>{a(e).year&&s(ka)})}var U=l(ta,2),ra=r(U);ae(ra,{class:"w-4 h-4"});var ja=l(ra);t(U);var q=l(U,2),Da=r(q,!0);t(q),t(R);var sa=l(R,2);{var Na=s=>{var o=ne();ca(o,21,()=>a(e).genres.slice(0,5),ma,(m,_)=>{var p=ie(),C=r(p,!0);t(p),h(()=>c(C,a(_))),n(m,p)}),t(o),n(s,o)};b(sa,s=>{a(e).genres&&a(e).genres.length>0&&s(Na)})}var B=l(sa,2),Ia=r(B,!0);t(B);var oa=l(B,2),I=r(oa),Fa=r(I);Ja(Fa,{class:"w-5 h-5 fill-white"}),G(),t(I);var F=l(I,2);F.__click=ga;var la=r(F);{let s=P(()=>a(A)?"fill-current":"");Ya(la,{get class(){return`w-5 h-5 ${a(s)??""}`}})}var Ca=l(la);t(F),t(oa),t(aa),t(Y),t(X),t(g);var ia=l(g,2),Ea=l(r(ia),2);{var La=s=>{var o=ve();ca(o,21,()=>a(D),ma,(m,_,p)=>{const C=P(()=>p+1);var E=de(),Ha=r(E,!0);t(E),h(()=>{y(E,"href",`/watch/${a(e).bookId??""}?ep=${a(C)??""}`),c(Ha,a(C))}),n(m,E)}),t(o),n(s,o)},Pa=s=>{var o=ce();n(s,o)};b(Ea,s=>{a(D).length>0?s(La):s(Pa,!1)})}t(ia),h((s,o)=>{y(V,"src",s),y(V,"alt",a(e).bookName),y(Z,"src",o),y(Z,"alt",a(e).bookName),c($a,a(e).bookName),c(ja,` ${a(D).length??""} Episode`),va(q,1,`px-2 py-1 rounded-md ${a(e).status==="Ongoing"?"bg-green-500/20 text-green-400":"bg-brand-orange/20 text-brand-orange"}`),c(Da,a(e).status),c(Ia,a(e).introduction||"No description available."),y(I,"href",`/watch/${a(e).bookId??""}`),va(F,1,`inline-flex items-center gap-2 px-6 py-3 glass hover:bg-white/20 rounded-full font-semibold transition-colors ${a(A)?"text-red-500":""}`),c(Ca,` ${a(A)?"Di Watchlist":"Tambah ke Watchlist"}`)},[()=>da(a(e).cover),()=>da(a(e).cover)]),n(f,x)};b(z,f=>{a(N)||!a(e)?f(ba):f(ya,!1)},!0)}n(i,d)};b(_a,i=>{a(T)?i(ua):i(ha,!1)})}t(W),n(H,W),Wa(),Q()}Ma(["click"]);export{De as component};
