import{c as J,a as h,d as ge,f as x,e as Y,s as K,r as Ke}from"../chunks/8_rKqoti.js";import{o as Le}from"../chunks/QNYzxUZg.js";import{b as Oe,E as Ue,aQ as Ge,R as te,an as Xe,h as Ye,q as Je,o as Ze,aR as ea,f as Z,p as xe,u as aa,d as g,k as c,g as n,t as A,e as _e,s as L,l as t,n as O,r as a,i as Ie,aS as ta,aT as ra}from"../chunks/vbZyT464.js";import{B as sa,l as se,s as oe,i as z,a as ze,b as re}from"../chunks/Dyc3H2TI.js";import{p as Ee}from"../chunks/Ct-MbXlx.js";import{I as ne,s as ie,e as ue,i as he,b as ce,a as X,r as ke,f as oa}from"../chunks/BxHs40zU.js";import{c as na}from"../chunks/dYPENA2-.js";import{g as ia}from"../chunks/DZxOtlE5.js";import{H as Me,a as la,r as da,f as ca}from"../chunks/BNiMAG_W.js";import"../chunks/DMwq-UN7.js";import{T as va,C as fa}from"../chunks/DOOfdAS1.js";import{X as be}from"../chunks/D-6aa0M8.js";import{S as Ce}from"../chunks/BWAkzw7-.js";import{a as ua}from"../chunks/Dy99MU8V.js";function ha(e,r,...u){var i=new sa(e);Oe(()=>{const o=r()??null;i.ensure(o,o&&(f=>o(f,...u)))},Ue)}function Se(e,r,u=r){var i=new WeakSet;Ge(e,"input",async o=>{var f=o?e.defaultValue:e.value;if(f=me(e)?pe(f):f,u(f),te!==null&&i.add(te),await Xe(),f!==(f=r())){var l=e.selectionStart,d=e.selectionEnd,y=e.value.length;if(e.value=f??"",d!==null){var k=e.value.length;l===d&&d===y&&k>y?(e.selectionStart=k,e.selectionEnd=k):(e.selectionStart=l,e.selectionEnd=Math.min(d,k))}}}),(Ye&&e.defaultValue!==e.value||Je(r)==null&&e.value)&&(u(me(e)?pe(e.value):e.value),te!==null&&i.add(te)),Ze(()=>{var o=r();if(e===document.activeElement){var f=ea??te;if(i.has(f))return}me(e)&&o===pe(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function me(e){var r=e.type;return r==="number"||r==="range"}function pe(e){return e===""?null:+e}function ma(e,r){const u=se(r,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["circle",{cx:"12",cy:"12",r:"10"}],["polygon",{points:"10 8 16 12 10 16 10 8"}]];ne(e,oe({name:"circle-play"},()=>u,{get iconNode(){return i},children:(o,f)=>{var l=J(),d=Z(l);ie(d,r,"default",{}),h(o,l)},$$slots:{default:!0}}))}function Pe(e,r){const u=se(r,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["path",{d:"M10 2v2"}],["path",{d:"M14 2v2"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1"}],["path",{d:"M6 2v2"}]];ne(e,oe({name:"coffee"},()=>u,{get iconNode(){return i},children:(o,f)=>{var l=J(),d=Z(l);ie(d,r,"default",{}),h(o,l)},$$slots:{default:!0}}))}function pa(e,r){const u=se(r,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]];ne(e,oe({name:"house"},()=>u,{get iconNode(){return i},children:(o,f)=>{var l=J(),d=Z(l);ie(d,r,"default",{}),h(o,l)},$$slots:{default:!0}}))}function ba(e,r){const u=se(r,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["line",{x1:"4",x2:"20",y1:"12",y2:"12"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18"}]];ne(e,oe({name:"menu"},()=>u,{get iconNode(){return i},children:(o,f)=>{var l=J(),d=Z(l);ie(d,r,"default",{}),h(o,l)},$$slots:{default:!0}}))}function Ne(e,r){const u=se(r,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}],["path",{d:"M21 21v.01"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}],["path",{d:"M3 12h.01"}],["path",{d:"M12 3h.01"}],["path",{d:"M12 16v.01"}],["path",{d:"M16 12h1"}],["path",{d:"M21 12v.01"}],["path",{d:"M12 21v-1"}]];ne(e,oe({name:"qr-code"},()=>u,{get iconNode(){return i},children:(o,f)=>{var l=J(),d=Z(l);ie(d,r,"default",{}),h(o,l)},$$slots:{default:!0}}))}var ga=x("<a> </a>"),xa=x('<form class="flex items-center"><input type="text" placeholder="Cari drama..." class="w-48 lg:w-64 bg-brand-gray/80 border border-white/10 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-orange/50 transition-all"/> <button type="button" class="ml-2 p-2 text-gray-400 hover:text-white"><!></button></form>'),_a=x('<button class="p-2 text-gray-300 hover:text-white transition-colors" aria-label="Search"><!></button>'),ya=x('<span class="absolute -top-1.5 -right-1.5 min-w-[16px] h-4 px-0.5 bg-brand-orange text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-black"> </span>'),wa=x('<a class="flex items-center gap-3 p-3 hover:bg-white/5 transition-colors"><img class="w-10 h-14 object-cover rounded" loading="lazy"/> <div class="flex-1 min-w-0"><p class="text-sm font-medium truncate"> </p> <p class="text-xs text-gray-400"> </p></div></a>'),$a=x('<div class="absolute right-0 top-full mt-2 w-72 glass rounded-xl overflow-hidden shadow-xl hidden md:block"><div class="p-3 border-b border-white/10"><h3 class="text-sm font-semibold">Watchlist Terbaru</h3></div> <div class="max-h-80 overflow-y-auto"></div> <a href="/favorites" class="block p-3 text-center text-sm text-brand-orange hover:bg-white/5 border-t border-white/10">Lihat Semua</a></div>'),ka=x('<a><!> <span class="font-medium"> </span></a>'),Ma=x('<span class="ml-auto bg-brand-orange text-white text-xs font-bold px-2 py-1 rounded-full"> </span>'),Ca=x('<div class="md:hidden fixed inset-0 top-16 bg-black/70 backdrop-blur-md z-40"><div class="p-6 space-y-6"><form class="relative"><!> <input type="text" placeholder="Cari drama..." class="w-full bg-brand-gray border border-white/10 rounded-full pl-12 pr-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-brand-orange/50"/></form> <div class="space-y-2"><!> <a href="/favorites"><!> <span class="font-medium">Watchlist</span> <!></a></div></div></div>'),Sa=x('<nav><div class="max-w-7xl mx-auto px-4 sm:px-6"><div class="flex items-center justify-between h-16"><a href="/" class="flex items-center gap-2 group"><!> <span class="text-xl font-bold tracking-tight">DRACIN</span></a> <div class="hidden md:flex items-center gap-6"></div> <div class="flex items-center gap-3"><div class="hidden md:block relative"><!></div> <div class="relative"><a href="/favorites" class="relative p-2 text-gray-300 hover:text-brand-orange transition-colors" aria-label="Watchlist"><!> <!></a> <!></div> <button class="md:hidden p-2 text-gray-300 hover:text-white" aria-label="Menu"><!></button></div></div></div> <!></nav>');function Na(e,r){xe(r,!0);const u=()=>re(Ee,"$page",f),i=()=>re(la,"$favoritesCount",f),o=()=>re(da,"$recentFavorites",f),[f,l]=ze();let d=L(!1),y=L(!1),k=L(!1),b=L(!1),_=L("");aa(()=>{if(typeof window<"u"){const s=()=>{g(k,window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)}});function E(s){s.preventDefault(),n(_).trim()&&(ia(`/search?q=${encodeURIComponent(n(_).trim())}`),g(y,!1),g(_,""))}function N(){g(d,!1)}const q=[{href:"/",label:"Home",icon:pa},{href:"/category/trending",label:"Trending",icon:va},{href:"/category/vip",label:"VIP",icon:fa}];var C=Sa(),R=t(C),F=t(R),j=t(F),D=t(j);ma(D,{class:"w-8 h-8 text-brand-orange group-hover:scale-110 transition-transform"}),O(2),a(j);var V=c(j,2);ue(V,21,()=>q,he,(s,v)=>{var m=ga(),M=t(m,!0);a(m),A(()=>{X(m,"href",n(v).href),ce(m,1,`text-sm font-medium transition-colors hover:text-brand-orange ${u().url.pathname===n(v).href?"text-brand-orange":"text-gray-300"}`),K(M,n(v).label)}),h(s,m)}),a(V);var U=c(V,2),w=t(U),$=t(w);{var B=s=>{var v=xa(),m=t(v);ke(m),ta(m,!0);var M=c(m,2);M.__click=()=>{g(y,!1),g(_,"")};var S=t(M);be(S,{class:"w-5 h-5"}),a(M),a(v),Y("submit",v,E),Se(m,()=>n(_),P=>g(_,P)),h(s,v)},I=s=>{var v=_a();v.__click=()=>g(y,!0);var m=t(v);Ce(m,{class:"w-5 h-5"}),a(v),h(s,v)};z($,s=>{n(y)?s(B):s(I,!1)})}a(w);var p=c(w,2),ee=t(p),ye=t(ee);{let s=Ie(()=>i()>0?"fill-brand-orange text-brand-orange":"");Me(ye,{get class(){return`w-5 h-5 ${n(s)??""}`}})}var Te=c(ye,2);{var Re=s=>{var v=ya(),m=t(v,!0);a(v),A(()=>K(m,i()>99?"99+":i())),h(s,v)};z(Te,s=>{i()>0&&s(Re)})}a(ee);var je=c(ee,2);{var De=s=>{var v=$a(),m=c(t(v),2);ue(m,5,o,he,(M,S)=>{var P=wa(),G=t(P),ae=c(G,2),W=t(ae),le=t(W,!0);a(W);var de=c(W,2),fe=t(de);a(de),a(ae),a(P),A(T=>{X(P,"href",`/detail/${n(S).bookId??""}`),X(G,"src",T),X(G,"alt",n(S).bookName),K(le,n(S).bookName),K(fe,`${n(S).status??""} â€¢ ${n(S).year??""}`)},[()=>oa(n(S).cover)]),h(M,P)}),a(m),O(2),a(v),h(s,v)};z(je,s=>{n(b)&&o().length>0&&s(De)})}a(p);var ve=c(p,2);ve.__click=()=>g(d,!n(d));var We=t(ve);{var He=s=>{be(s,{class:"w-6 h-6"})},Qe=s=>{ba(s,{class:"w-6 h-6"})};z(We,s=>{n(d)?s(He):s(Qe,!1)})}a(ve),a(U),a(F),a(R);var Ae=c(R,2);{var qe=s=>{var v=Ca(),m=t(v),M=t(m),S=t(M);Ce(S,{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"});var P=c(S,2);ke(P),a(M);var G=c(M,2),ae=t(G);ue(ae,17,()=>q,he,(T,H)=>{var Q=ka();Q.__click=N;var we=t(Q);na(we,()=>n(H).icon,(Ve,Be)=>{Be(Ve,{class:"w-5 h-5"})});var $e=c(we,2),Fe=t($e,!0);a($e),a(Q),A(()=>{X(Q,"href",n(H).href),ce(Q,1,`flex items-center gap-4 p-4 rounded-xl hover:bg-brand-gray transition-colors ${u().url.pathname===n(H).href?"bg-brand-gray text-brand-orange":"text-white"}`),K(Fe,n(H).label)}),h(T,Q)});var W=c(ae,2);W.__click=N;var le=t(W);Me(le,{class:"w-5 h-5"});var de=c(le,4);{var fe=T=>{var H=Ma(),Q=t(H,!0);a(H),A(()=>K(Q,i())),h(T,H)};z(de,T=>{i()>0&&T(fe)})}a(W),a(G),a(m),a(v),A(()=>ce(W,1,`flex items-center gap-4 p-4 rounded-xl hover:bg-brand-gray transition-colors ${u().url.pathname==="/favorites"?"bg-brand-gray text-brand-orange":"text-white"}`)),Y("submit",M,E),Se(P,()=>n(_),T=>g(_,T)),h(s,v)};z(Ae,s=>{n(d)&&s(qe)})}a(C),A(()=>ce(C,1,`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n(k)?"bg-black/95 backdrop-blur-md shadow-lg":"bg-gradient-to-b from-black/80 to-transparent"}`)),Y("mouseenter",p,()=>g(b,!0)),Y("mouseleave",p,()=>g(b,!1)),h(e,C),_e(),l()}ge(["click"]);var Ia=x('<div class="text-center text-gray-500"><!> <p class="text-sm font-medium">Gagal memuat QR Code</p> <p class="text-xs mt-1">Silakan coba lagi nanti</p></div>'),za=x('<img alt="QRIS Code" class="w-48 h-48 object-contain"/>'),Ea=x('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in svelte-1ep2t6b" role="dialog" aria-modal="true" aria-labelledby="donation-title"><div class="relative w-full max-w-sm bg-gradient-to-b from-brand-gray to-brand-dark rounded-2xl overflow-hidden shadow-2xl animate-scale-in svelte-1ep2t6b"><button class="absolute top-4 right-4 p-2 rounded-full glass hover:bg-white/20 transition-colors z-10" aria-label="Close"><!></button> <div class="p-6 pb-4 text-center border-b border-white/10"><div class="inline-flex items-center justify-center w-14 h-14 rounded-full bg-brand-orange/20 mb-4"><!></div> <h2 id="donation-title" class="text-xl font-bold">Traktir Kopi â˜•</h2> <p class="text-sm text-gray-400 mt-2">Dukungan untuk server & kopi developer</p></div> <div class="p-6 flex flex-col items-center"><div class="relative bg-white p-4 rounded-xl shadow-inner min-w-[200px] min-h-[200px] flex items-center justify-center"><!></div> <p class="mt-4 text-sm text-gray-400 text-center">Scan QRIS dengan aplikasi e-wallet atau mobile banking</p> <div class="flex items-center gap-2 mt-4 px-4 py-2 glass rounded-full"><!> <span class="text-sm font-medium">QRIS - Semua Pembayaran</span></div></div> <div class="p-4 bg-black/30 text-center"><p class="text-xs text-gray-500">Terima kasih atas dukungannya! ğŸ™</p></div></div></div>');function Pa(e,r){xe(r,!0);const u="/qrcode_sds.png";let i=L(!1);function o(){g(i,!0)}function f(b){b.target===b.currentTarget&&r.onClose()}function l(b){b.key==="Escape"&&r.onClose()}var d=J();Y("keydown",ra,l);var y=Z(d);{var k=b=>{var _=Ea();_.__click=f;var E=t(_),N=t(E);N.__click=function(...I){var p;(p=r.onClose)==null||p.apply(this,I)};var q=t(N);be(q,{class:"w-5 h-5"}),a(N);var C=c(N,2),R=t(C),F=t(R);Pe(F,{class:"w-7 h-7 text-brand-orange"}),a(R),O(4),a(C);var j=c(C,2),D=t(j),V=t(D);{var U=I=>{var p=Ia(),ee=t(p);Ne(ee,{class:"w-12 h-12 mx-auto mb-2 text-gray-400"}),O(4),a(p),h(I,p)},w=I=>{var p=za();X(p,"src",u),Y("error",p,o),Ke(p),h(I,p)};z(V,I=>{n(i)?I(U):I(w,!1)})}a(D);var $=c(D,4),B=t($);Ne(B,{class:"w-4 h-4 text-brand-orange"}),O(2),a($),a(j),O(2),a(E),a(_),h(b,_)};z(y,b=>{r.isOpen&&b(k)})}h(e,d),_e()}ge(["click"]);var Ta=x('<button class="fixed bottom-6 right-6 flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-brand-orange to-orange-600 rounded-full shadow-lg shadow-brand-orange/30 hover:shadow-brand-orange/50 hover:scale-105 transition-all z-40" aria-label="Donasi"><!> <span class="text-sm font-semibold hidden sm:inline">Traktir Kopi</span></button>'),Ra=x('<div class="fixed bottom-20 right-6 px-3 py-1.5 bg-black/80 backdrop-blur-sm border border-white/10 rounded-lg text-xs font-mono text-gray-400 z-40 pointer-events-none"> </div>'),ja=x('<div class="min-h-screen bg-brand-black flex flex-col"><!> <main class="flex-1 pt-16"><!></main> <footer class="bg-brand-dark border-t border-white/5 py-8 mt-12"><div class="max-w-7xl mx-auto px-4 sm:px-6"><div class="flex flex-col md:flex-row items-center justify-between gap-4"><div class="text-center md:text-left"><p class="text-sm text-gray-400">Â© 2026 DRACIN. Streaming drama China dengan subtitle Indonesia.</p> <p class="text-xs text-gray-500 mt-1">V2.0 - Built with SvelteKit â¤ï¸</p></div> <div class="flex items-center gap-4"><a href="/favorites" class="text-sm text-gray-400 hover:text-white transition-colors">Watchlist</a> <a href="/category/trending" class="text-sm text-gray-400 hover:text-white transition-colors">Trending</a> <button class="text-sm text-gray-400 hover:text-brand-orange transition-colors">Donasi</button></div></div></div></footer> <!> <!> <!></div>');function Xa(e,r){xe(r,!0);const u=()=>re(Ee,"$page",o),i=()=>re(ua,"$activeProvider",o),[o,f]=ze();let l=L(!1),d=Ie(()=>u().url.pathname.startsWith("/watch"));Le(()=>{ca.init()});var y=ja(),k=t(y);Na(k,{});var b=c(k,2),_=t(b);ha(_,()=>r.children),a(b);var E=c(b,2),N=t(E),q=t(N),C=c(t(q),2),R=c(t(C),4);R.__click=()=>g(l,!0),a(C),a(q),a(N),a(E);var F=c(E,2);{var j=w=>{var $=Ta();$.__click=()=>g(l,!0);var B=t($);Pe(B,{class:"w-5 h-5"}),O(2),a($),h(w,$)};z(F,w=>{n(d)||w(j)})}var D=c(F,2);{var V=w=>{var $=Ra(),B=t($);a($),A(()=>K(B,`API: ${i()??""}`)),h(w,$)};z(D,w=>{n(d)||w(V)})}var U=c(D,2);Pa(U,{get isOpen(){return n(l)},onClose:()=>g(l,!1)}),a(y),h(e,y),_e(),f()}ge(["click"]);export{Xa as component};
